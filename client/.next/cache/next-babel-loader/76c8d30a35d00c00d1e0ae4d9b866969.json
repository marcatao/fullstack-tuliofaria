{"ast":null,"code":"import { GoogleSpreadsheet } from 'google-spreadsheet';\nimport credentials from '../../google-poc/credencials.json';\nconst doc = new GoogleSpreadsheet('1a0xQ5yA92FcPePWJCQJmA_qMsMDe8mGTPs11IsuOVeA');\nexport default (async (req, res) => {\n  try {\n    await doc.useServiceAccountAuth(credentials);\n    await doc.loadInfo();\n    console.log(doc.title);\n    const sheet = doc.sheetsByIndex[2];\n    await sheet.loadCells('A2:B2');\n    console.log(sheet.title);\n    const mostrarPromocaoCell = sheet.getCell(1, 0);\n    console.log(`o valor é ${mostrarPromocaoCell.value}`);\n    const textoCell = sheet.getCell(1, 1);\n    console.log(`A mensagem é ${textoCell.value}`);\n    res.end(JSON.stringify({\n      showCoupom: mostrarPromocaoCell === 'VERDAEIRO',\n      message: textoCell\n    }));\n  } catch (error) {}\n});","map":{"version":3,"sources":["C:/Users/marcato/Google Drive/Estudos/Fullstack-TulioFaria/client/pages/api/get-promo.js"],"names":["GoogleSpreadsheet","credentials","doc","req","res","useServiceAccountAuth","loadInfo","console","log","title","sheet","sheetsByIndex","loadCells","mostrarPromocaoCell","getCell","value","textoCell","end","JSON","stringify","showCoupom","message","error"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,oBAAlC;AACA,OAAOC,WAAP,MAAwB,mCAAxB;AAEA,MAAMC,GAAG,GAAG,IAAIF,iBAAJ,CAAsB,8CAAtB,CAAZ;AAGA,gBAAe,OAAOG,GAAP,EAAYC,GAAZ,KAAoB;AAE/B,MAAI;AAGA,UAAMF,GAAG,CAACG,qBAAJ,CAA0BJ,WAA1B,CAAN;AACA,UAAMC,GAAG,CAACI,QAAJ,EAAN;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACO,KAAhB;AAEA,UAAMC,KAAK,GAAGR,GAAG,CAACS,aAAJ,CAAkB,CAAlB,CAAd;AACA,UAAMD,KAAK,CAACE,SAAN,CAAgB,OAAhB,CAAN;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAK,CAACD,KAAlB;AAEA,UAAMI,mBAAmB,GAAGH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiB,CAAjB,CAA5B;AACAP,IAAAA,OAAO,CAACC,GAAR,CAAa,aAAYK,mBAAmB,CAACE,KAAM,EAAnD;AAEA,UAAMC,SAAS,GAAGN,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiB,CAAjB,CAAlB;AACAP,IAAAA,OAAO,CAACC,GAAR,CAAa,gBAAeQ,SAAS,CAACD,KAAM,EAA5C;AAEAX,IAAAA,GAAG,CAACa,GAAJ,CAAQC,IAAI,CAACC,SAAL,CAAe;AACnBC,MAAAA,UAAU,EAAEP,mBAAmB,KAAK,WADjB;AAEnBQ,MAAAA,OAAO,EAAEL;AAFU,KAAf,CAAR;AAKH,GAtBD,CAsBE,OAAOM,KAAP,EAAc,CAEf;AAGJ,CA7BD","sourcesContent":["import { GoogleSpreadsheet } from 'google-spreadsheet'\r\nimport credentials from '../../google-poc/credencials.json'\r\n\r\nconst doc = new GoogleSpreadsheet('1a0xQ5yA92FcPePWJCQJmA_qMsMDe8mGTPs11IsuOVeA')\r\n\r\n\r\nexport default async (req, res) => {\r\n\r\n    try {\r\n\r\n\r\n        await doc.useServiceAccountAuth(credentials)\r\n        await doc.loadInfo();\r\n        console.log(doc.title);\r\n\r\n        const sheet = doc.sheetsByIndex[2]\r\n        await sheet.loadCells('A2:B2')\r\n        console.log(sheet.title)\r\n\r\n        const mostrarPromocaoCell = sheet.getCell(1, 0);\r\n        console.log(`o valor é ${mostrarPromocaoCell.value}`);\r\n\r\n        const textoCell = sheet.getCell(1, 1);\r\n        console.log(`A mensagem é ${textoCell.value}`);\r\n\r\n        res.end(JSON.stringify({\r\n            showCoupom: mostrarPromocaoCell === 'VERDAEIRO',\r\n            message: textoCell\r\n        }))\r\n\r\n    } catch (error) {\r\n\r\n    }\r\n\r\n\r\n}"]},"metadata":{},"sourceType":"module"}