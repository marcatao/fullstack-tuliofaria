{"ast":null,"code":"import { GoogleSpreadsheet } from 'google-spreadsheet';\nimport credentials from '../../google-poc/credencials.json';\nconst doc = new GoogleSpreadsheet('1a0xQ5yA92FcPePWJCQJmA_qMsMDe8mGTPs11IsuOVeA');\nexport default (async (req, res) => {\n  await doc.useServiceAccountAuth(credentials);\n  await doc.loadInfo();\n  console.log(doc.title);\n  const sheet = doc.sheetsByIndex[1];\n  const data = JSON.parse(req.body);\n  await sheet.addRow({\n    Nome: data.Nome,\n    Email: data.Email,\n    Whatsapp: data.Whatsapp,\n    Cupom: '03 7777',\n    Promo: 'CursoGratis'\n  });\n  res.end(req.body);\n});","map":{"version":3,"sources":["C:/Users/marcato/Google Drive/Estudos/Fullstack-TulioFaria/client/pages/api/save.js"],"names":["GoogleSpreadsheet","credentials","doc","req","res","useServiceAccountAuth","loadInfo","console","log","title","sheet","sheetsByIndex","data","JSON","parse","body","addRow","Nome","Email","Whatsapp","Cupom","Promo","end"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,oBAAlC;AACA,OAAOC,WAAP,MAAwB,mCAAxB;AAEA,MAAMC,GAAG,GAAG,IAAIF,iBAAJ,CAAsB,8CAAtB,CAAZ;AAIA,gBAAe,OAAOG,GAAP,EAAYC,GAAZ,KAAoB;AAEhC,QAAMF,GAAG,CAACG,qBAAJ,CAA0BJ,WAA1B,CAAN;AACA,QAAMC,GAAG,CAACI,QAAJ,EAAN;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACO,KAAhB;AAEF,QAAOC,KAAK,GAAGR,GAAG,CAACS,aAAJ,CAAkB,CAAlB,CAAf;AACA,QAAMC,IAAI,GAAIC,IAAI,CAACC,KAAL,CAAWX,GAAG,CAACY,IAAf,CAAd;AAEA,QAAML,KAAK,CAACM,MAAN,CAAa;AAChBC,IAAAA,IAAI,EAAEL,IAAI,CAACK,IADK;AAEhBC,IAAAA,KAAK,EAAEN,IAAI,CAACM,KAFI;AAGhBC,IAAAA,QAAQ,EAAEP,IAAI,CAACO,QAHC;AAIhBC,IAAAA,KAAK,EAAI,SAJO;AAKhBC,IAAAA,KAAK,EAAG;AALQ,GAAb,CAAN;AASGjB,EAAAA,GAAG,CAACkB,GAAJ,CAAQnB,GAAG,CAACY,IAAZ;AACH,CAnBD","sourcesContent":["import { GoogleSpreadsheet } from 'google-spreadsheet'\r\nimport credentials from '../../google-poc/credencials.json'\r\n\r\nconst doc = new GoogleSpreadsheet('1a0xQ5yA92FcPePWJCQJmA_qMsMDe8mGTPs11IsuOVeA')\r\n\r\n\r\n\r\nexport default async (req, res) => {\r\n\r\n   await doc.useServiceAccountAuth(credentials)\r\n   await doc.loadInfo();\r\n   console.log(doc.title);\r\n\r\n const  sheet = doc.sheetsByIndex[1]\r\n const data  = JSON.parse(req.body)\r\n\r\n await sheet.addRow({\r\n    Nome: data.Nome,\r\n    Email: data.Email,\r\n    Whatsapp: data.Whatsapp,\r\n    Cupom :  '03 7777',\r\n    Promo : 'CursoGratis'\r\n })\r\n\r\n\r\n    res.end(req.body)\r\n}"]},"metadata":{},"sourceType":"module"}